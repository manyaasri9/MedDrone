<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MediDrop ‚Äî Drone Medicine Delivery</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --teal: #00C9A7;
    --dark: #0B1120;
    --card: #111827;
    --border: #1e2d3d;
    --text: #e2e8f0;
    --muted: #64748b;
    --accent: #38bdf8;
    --danger: #f87171;
    --success: #34d399;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--dark);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* NAV */
  nav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 100;
    display: flex; justify-content: space-between; align-items: center;
    padding: 18px 40px;
    background: rgba(11,17,32,0.85);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border);
  }
  .logo { font-family: 'Syne', sans-serif; font-size: 1.4rem; font-weight: 800; color: var(--teal); letter-spacing: -0.5px; }
  .logo span { color: var(--accent); }
  .nav-links { display: flex; gap: 8px; }
  .nav-btn {
    padding: 8px 18px; border-radius: 8px; border: none; cursor: pointer;
    font-family: 'DM Sans', sans-serif; font-size: 0.85rem; font-weight: 500;
    transition: all 0.2s;
  }
  .nav-btn.active { background: var(--teal); color: var(--dark); }
  .nav-btn.inactive { background: transparent; color: var(--muted); border: 1px solid var(--border); }
  .nav-btn:hover { opacity: 0.85; transform: translateY(-1px); }
  .nav-btn.drone-btn { background: linear-gradient(135deg, #1e3a5f, #0ea5e9); color: #fff; border: none; }

  /* PAGES */
  .page { display: none; padding-top: 80px; min-height: 100vh; }
  .page.active { display: block; }

  /* HERO BG */
  .hero-bg {
    position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: -1;
    background: radial-gradient(ellipse at 20% 50%, rgba(0,201,167,0.08) 0%, transparent 60%),
                radial-gradient(ellipse at 80% 20%, rgba(56,189,248,0.06) 0%, transparent 50%),
                var(--dark);
  }
  .grid-overlay {
    position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: -1;
    background-image: linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
    background-size: 50px 50px;
  }

  /* ===== PAGE 1: SIGN IN ===== */
  #page-signin {
    display: flex; align-items: center; justify-content: center;
    min-height: 100vh; padding: 100px 20px 40px;
  }
  .signin-container {
    width: 100%; max-width: 420px;
    animation: fadeUp 0.6s ease;
  }
  .signin-header { text-align: center; margin-bottom: 40px; }
  .signin-header h1 { font-family: 'Syne', sans-serif; font-size: 2.4rem; font-weight: 800; line-height: 1.1; }
  .signin-header h1 span { color: var(--teal); }
  .signin-header p { color: var(--muted); margin-top: 10px; font-size: 0.95rem; }

  .signin-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 36px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.4);
  }
  .form-group { margin-bottom: 20px; }
  .form-group label { display: block; font-size: 0.82rem; font-weight: 500; color: var(--muted); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px; }
  .form-group input {
    width: 100%; padding: 14px 16px;
    background: rgba(255,255,255,0.04);
    border: 1px solid var(--border);
    border-radius: 10px;
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    font-size: 0.95rem;
    transition: border-color 0.2s, box-shadow 0.2s;
    outline: none;
  }
  .form-group input:focus { border-color: var(--teal); box-shadow: 0 0 0 3px rgba(0,201,167,0.1); }
  .form-group input::placeholder { color: var(--muted); }

  .btn-primary {
    width: 100%; padding: 15px;
    background: linear-gradient(135deg, var(--teal), #00a88a);
    border: none; border-radius: 10px;
    color: var(--dark); font-family: 'Syne', sans-serif;
    font-size: 1rem; font-weight: 700; cursor: pointer;
    transition: all 0.2s;
    margin-top: 8px;
  }
  .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,201,167,0.3); }

  .divider { display: flex; align-items: center; gap: 12px; margin: 24px 0; }
  .divider::before, .divider::after { content: ''; flex: 1; height: 1px; background: var(--border); }
  .divider span { color: var(--muted); font-size: 0.8rem; }

  .social-btn {
    width: 100%; padding: 13px;
    background: transparent; border: 1px solid var(--border);
    border-radius: 10px; color: var(--text);
    font-family: 'DM Sans', sans-serif; font-size: 0.9rem;
    cursor: pointer; transition: all 0.2s;
    display: flex; align-items: center; justify-content: center; gap: 10px;
  }
  .social-btn:hover { background: rgba(255,255,255,0.05); border-color: var(--accent); }

  .signin-footer { text-align: center; margin-top: 20px; font-size: 0.85rem; color: var(--muted); }
  .signin-footer a { color: var(--teal); text-decoration: none; cursor: pointer; }

  /* ===== PAGE 2: MEDICINE ===== */
  #page-medicine { padding: 100px 40px 60px; }
  .page-header { margin-bottom: 40px; }
  .page-header h2 { font-family: 'Syne', sans-serif; font-size: 2rem; font-weight: 800; }
  .page-header p { color: var(--muted); margin-top: 6px; }

  .search-bar {
    display: flex; gap: 12px; margin-bottom: 32px;
  }
  .search-bar input {
    flex: 1; padding: 14px 20px;
    background: var(--card); border: 1px solid var(--border);
    border-radius: 12px; color: var(--text);
    font-family: 'DM Sans', sans-serif; font-size: 0.95rem; outline: none;
    transition: border-color 0.2s;
  }
  .search-bar input:focus { border-color: var(--teal); }
  .search-bar input::placeholder { color: var(--muted); }

  .categories { display: flex; gap: 10px; margin-bottom: 32px; flex-wrap: wrap; }
  .cat-btn {
    padding: 8px 18px; border-radius: 30px; border: 1px solid var(--border);
    background: transparent; color: var(--muted); cursor: pointer;
    font-family: 'DM Sans', sans-serif; font-size: 0.85rem;
    transition: all 0.2s;
  }
  .cat-btn.active, .cat-btn:hover { background: var(--teal); color: var(--dark); border-color: var(--teal); font-weight: 600; }

  .medicine-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: 20px;
  }
  .med-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 24px;
    transition: all 0.3s;
    cursor: pointer;
    animation: fadeUp 0.5s ease;
  }
  .med-card:hover { border-color: var(--teal); transform: translateY(-4px); box-shadow: 0 12px 30px rgba(0,0,0,0.3); }
  .med-icon {
    width: 52px; height: 52px; border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.6rem; margin-bottom: 16px;
  }
  .med-card h3 { font-family: 'Syne', sans-serif; font-size: 1rem; font-weight: 700; margin-bottom: 4px; }
  .med-card .med-type { font-size: 0.78rem; color: var(--muted); margin-bottom: 12px; }
  .med-card .med-desc { font-size: 0.85rem; color: var(--muted); line-height: 1.5; margin-bottom: 16px; }
  .med-footer { display: flex; align-items: center; justify-content: space-between; }
  .med-price { font-family: 'Syne', sans-serif; font-size: 1.1rem; font-weight: 700; color: var(--teal); }
  .add-btn {
    padding: 8px 16px; background: var(--teal);
    border: none; border-radius: 8px; color: var(--dark);
    font-family: 'DM Sans', sans-serif; font-weight: 600; font-size: 0.82rem;
    cursor: pointer; transition: all 0.2s;
  }
  .add-btn:hover { background: #00a88a; transform: scale(1.05); }
  .add-btn.added { background: var(--success); }

  .cart-bar {
    position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
    background: var(--card); border: 1px solid var(--teal);
    border-radius: 50px; padding: 16px 28px;
    display: none; align-items: center; gap: 20px;
    box-shadow: 0 8px 30px rgba(0,201,167,0.2);
    z-index: 90; animation: slideUp 0.3s ease;
  }
  .cart-bar.visible { display: flex; }
  .cart-info { font-family: 'Syne', sans-serif; font-size: 0.95rem; font-weight: 700; }
  .cart-info span { color: var(--teal); }
  .checkout-btn {
    padding: 10px 22px; background: var(--teal);
    border: none; border-radius: 30px; color: var(--dark);
    font-family: 'Syne', sans-serif; font-weight: 700; font-size: 0.9rem;
    cursor: pointer; transition: all 0.2s;
  }
  .checkout-btn:hover { background: #00a88a; }

  /* ===== PAGE 3: CHECKOUT ===== */
  #page-checkout { padding: 100px 40px 60px; max-width: 900px; margin: 0 auto; }
  .checkout-grid { display: grid; grid-template-columns: 1fr 380px; gap: 30px; }
  @media(max-width: 768px) { .checkout-grid { grid-template-columns: 1fr; } }

  .checkout-section h3 { font-family: 'Syne', sans-serif; font-size: 1.1rem; font-weight: 700; margin-bottom: 20px; color: var(--accent); }

  .checkout-card {
    background: var(--card); border: 1px solid var(--border);
    border-radius: 16px; padding: 28px; margin-bottom: 20px;
  }

  .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
  .checkout-input {
    width: 100%; padding: 12px 14px;
    background: rgba(255,255,255,0.04);
    border: 1px solid var(--border); border-radius: 10px;
    color: var(--text); font-family: 'DM Sans', sans-serif;
    font-size: 0.9rem; outline: none; transition: border-color 0.2s;
    margin-bottom: 14px;
  }
  .checkout-input:focus { border-color: var(--accent); }
  .checkout-input::placeholder { color: var(--muted); }

  .delivery-options { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
  .delivery-opt {
    padding: 14px; border: 1px solid var(--border); border-radius: 12px;
    cursor: pointer; transition: all 0.2s;
    text-align: center;
  }
  .delivery-opt.selected { border-color: var(--teal); background: rgba(0,201,167,0.07); }
  .delivery-opt .opt-icon { font-size: 1.6rem; margin-bottom: 6px; }
  .delivery-opt .opt-name { font-family: 'Syne', sans-serif; font-size: 0.85rem; font-weight: 700; }
  .delivery-opt .opt-time { font-size: 0.75rem; color: var(--muted); }
  .delivery-opt .opt-price { font-size: 0.8rem; color: var(--teal); font-weight: 600; margin-top: 4px; }

  /* ORDER SUMMARY */
  .order-summary { position: sticky; top: 100px; }
  .order-items { margin-bottom: 20px; }
  .order-item {
    display: flex; justify-content: space-between; align-items: center;
    padding: 12px 0; border-bottom: 1px solid var(--border);
    font-size: 0.9rem;
  }
  .order-item:last-child { border-bottom: none; }
  .order-item-name { flex: 1; }
  .order-item-qty { color: var(--muted); margin: 0 12px; font-size: 0.82rem; }
  .order-item-price { color: var(--teal); font-weight: 600; }
  .order-totals { margin-top: 16px; }
  .total-row { display: flex; justify-content: space-between; padding: 8px 0; font-size: 0.9rem; color: var(--muted); }
  .total-row.final { font-family: 'Syne', sans-serif; font-size: 1.1rem; font-weight: 700; color: var(--text); border-top: 1px solid var(--border); padding-top: 16px; margin-top: 8px; }
  .total-row.final span:last-child { color: var(--teal); }

  .place-order-btn {
    width: 100%; padding: 16px;
    background: linear-gradient(135deg, var(--teal), #00a88a);
    border: none; border-radius: 12px; color: var(--dark);
    font-family: 'Syne', sans-serif; font-size: 1rem; font-weight: 800;
    cursor: pointer; transition: all 0.2s; margin-top: 20px;
  }
  .place-order-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,201,167,0.3); }

  /* SUCCESS MODAL */
  .modal-overlay {
    display: none; position: fixed; inset: 0; z-index: 200;
    background: rgba(0,0,0,0.7); backdrop-filter: blur(8px);
    align-items: center; justify-content: center;
  }
  .modal-overlay.show { display: flex; }
  .modal {
    background: var(--card); border: 1px solid var(--teal);
    border-radius: 24px; padding: 48px 40px; text-align: center;
    max-width: 400px; width: 90%;
    animation: fadeUp 0.4s ease;
  }
  .modal h2 { font-family: 'Syne', sans-serif; font-size: 1.8rem; font-weight: 800; margin-bottom: 12px; }
  .modal p { color: var(--muted); line-height: 1.6; margin-bottom: 28px; }
  .success-icon { font-size: 4rem; margin-bottom: 20px; animation: bounce 0.6s ease; }
  .drone-track { 
    background: rgba(0,201,167,0.08); border: 1px solid var(--border);
    border-radius: 12px; padding: 14px; margin-bottom: 24px;
    font-size: 0.85rem; color: var(--accent);
  }

  /* ===== PAGE 4: DRONE CAMERA ===== */
  #page-drone { padding: 100px 40px 60px; }
  .drone-header { margin-bottom: 30px; }
  .drone-header h2 { font-family: 'Syne', sans-serif; font-size: 2rem; font-weight: 800; }
  .drone-header p { color: var(--muted); margin-top: 6px; }

  .drone-layout { display: grid; grid-template-columns: 1fr 300px; gap: 24px; }
  @media(max-width: 900px) { .drone-layout { grid-template-columns: 1fr; } }

  .camera-feed {
    background: #000; border: 2px solid var(--border);
    border-radius: 20px; overflow: hidden;
    aspect-ratio: 16/9; position: relative;
  }
  .camera-active { border-color: var(--teal); }
  .camera-active::before {
    content: '‚óè LIVE';
    position: absolute; top: 16px; left: 16px; z-index: 10;
    background: rgba(239,68,68,0.9); color: white;
    font-family: 'Syne', sans-serif; font-size: 0.75rem; font-weight: 700;
    padding: 5px 12px; border-radius: 20px; letter-spacing: 1px;
  }
  .camera-active::after {
    content: 'REC';
    position: absolute; top: 16px; right: 16px; z-index: 10;
    color: var(--danger); font-family: 'Syne', sans-serif;
    font-size: 0.75rem; font-weight: 700; letter-spacing: 2px;
    animation: blink 1s infinite;
  }
  #cameraVideo {
    width: 100%; height: 100%; object-fit: cover;
    display: none;
  }
  .camera-placeholder {
    width: 100%; height: 100%; display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    background: linear-gradient(135deg, #0a0f1e, #0d1828);
    color: var(--muted);
  }
  .camera-placeholder .drone-anim { font-size: 4rem; margin-bottom: 16px; animation: float 3s ease-in-out infinite; }
  .camera-placeholder h3 { font-family: 'Syne', sans-serif; font-size: 1.1rem; color: var(--text); margin-bottom: 8px; }
  .camera-placeholder p { font-size: 0.85rem; text-align: center; max-width: 240px; }

  .hud-overlay {
    position: absolute; inset: 0; pointer-events: none;
    display: none;
  }
  .camera-active .hud-overlay { display: block; }
  .hud-corner {
    position: absolute; width: 40px; height: 40px;
    border-color: rgba(0,201,167,0.6); border-style: solid;
  }
  .hud-corner.tl { top: 12px; left: 12px; border-width: 2px 0 0 2px; }
  .hud-corner.tr { top: 12px; right: 12px; border-width: 2px 2px 0 0; }
  .hud-corner.bl { bottom: 12px; left: 12px; border-width: 0 0 2px 2px; }
  .hud-corner.br { bottom: 12px; right: 12px; border-width: 0 2px 2px 0; }
  .hud-center {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: 60px; height: 60px;
  }
  .crosshair-h, .crosshair-v {
    position: absolute; background: rgba(0,201,167,0.4);
  }
  .crosshair-h { width: 60px; height: 1px; top: 50%; left: 0; }
  .crosshair-v { width: 1px; height: 60px; left: 50%; top: 0; }
  .crosshair-dot {
    position: absolute; width: 8px; height: 8px; border-radius: 50%;
    background: var(--teal); top: 50%; left: 50%; transform: translate(-50%,-50%);
    animation: pulse 2s infinite;
  }
  .hud-info {
    position: absolute; bottom: 16px; left: 0; right: 0;
    display: flex; justify-content: space-between; padding: 0 16px;
  }
  .hud-stat {
    background: rgba(0,0,0,0.5); padding: 5px 10px; border-radius: 6px;
    font-family: 'Syne', sans-serif; font-size: 0.7rem; color: var(--teal);
    letter-spacing: 0.5px;
  }

  .camera-controls { margin-top: 16px; display: flex; gap: 12px; flex-wrap: wrap; }
  .ctrl-btn {
    padding: 10px 20px; border-radius: 10px; border: 1px solid var(--border);
    background: var(--card); color: var(--text);
    font-family: 'DM Sans', sans-serif; font-size: 0.85rem; cursor: pointer;
    transition: all 0.2s; display: flex; align-items: center; gap: 8px;
  }
  .ctrl-btn:hover { border-color: var(--teal); color: var(--teal); }
  .ctrl-btn.primary { background: var(--teal); color: var(--dark); border-color: var(--teal); font-weight: 600; }

  /* DRONE STATS PANEL */
  .drone-stats { display: flex; flex-direction: column; gap: 16px; }
  .stat-card {
    background: var(--card); border: 1px solid var(--border);
    border-radius: 14px; padding: 20px;
  }
  .stat-card h4 { font-family: 'Syne', sans-serif; font-size: 0.8rem; font-weight: 700; color: var(--muted); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 12px; }
  .stat-value { font-family: 'Syne', sans-serif; font-size: 1.6rem; font-weight: 800; color: var(--teal); }
  .stat-unit { font-size: 0.85rem; color: var(--muted); font-family: 'DM Sans', sans-serif; }
  .stat-bar { height: 6px; background: var(--border); border-radius: 3px; margin-top: 10px; overflow: hidden; }
  .stat-fill { height: 100%; border-radius: 3px; background: linear-gradient(90deg, var(--teal), var(--accent)); transition: width 1s ease; }

  .drone-status-dot {
    width: 10px; height: 10px; border-radius: 50%; background: var(--success);
    display: inline-block; margin-right: 8px;
    animation: pulse 2s infinite;
  }

  /* ANIMATIONS */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes slideUp {
    from { opacity: 0; transform: translateX(-50%) translateY(20px); }
    to { opacity: 1; transform: translateX(-50%) translateY(0); }
  }
  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-12px); }
  }
  @keyframes bounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
  }
  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }
  @keyframes pulse {
    0%, 100% { opacity: 1; transform: translate(-50%,-50%) scale(1); }
    50% { opacity: 0.5; transform: translate(-50%,-50%) scale(1.4); }
  }
</style>
</head>
<body>

<div class="hero-bg"></div>
<div class="grid-overlay"></div>

<!-- NAV -->
<nav>
  <div class="logo">Medi<span>Drop</span></div>
  <div class="nav-links">
    <button class="nav-btn active" id="nav-signin" onclick="showPage('signin')">Sign In</button>
    <!-- <button class="nav-btn inactive" id="nav-medicine" onclick="showPage('medicine')">Medicine</button>
    <button class="nav-btn inactive" id="nav-checkout" onclick="showPage('checkout')">Checkout</button>
    <button class="nav-btn drone-btn inactive" id="nav-drone" onclick="showPage('drone')">üöÅ Drone Cam</button> -->
  </div>
</nav>

<!-- PAGE 1: SIGN IN -->
<div class="page active" id="page-signin">
  <div class="signin-container">
    <div class="signin-header">
      <h1>Welcome to<br><span>MedDrone</span></h1>
      <p>Fast, safe drone medicine delivery at your doorstep</p>
    </div>
    <div class="signin-card">
      <div class="form-group">
        <label>Email Address</label>
        <input type="email" id="emailInput" placeholder="you@example.com">
      </div>
      <div class="form-group">
        <label>Password</label>
        <input type="password" id="passInput" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
      </div>
      <button class="btn-primary" onclick="doSignIn()">Sign In ‚Üí Get Medicine</button>
      </button>
</div>

<!-- PAGE 2: MEDICINE -->
<div class="page" id="page-medicine">
  <div class="page-header">
    <h2>Browse Medicines</h2>
    <p>All products delivered by drone within 30 minutes</p>
  </div>
  <div class="search-bar">
    <input type="text" placeholder="üîç  Search for medicine, vitamins, supplements..." id="searchInput" oninput="filterMeds()">
  </div>
  <div class="categories">
    <button class="cat-btn active" onclick="filterCat('all', this)">All</button>
    <button class="cat-btn" onclick="filterCat('pain', this)">Pain Relief</button>
    <button class="cat-btn" onclick="filterCat('vitamin', this)">Vitamins</button>
    <button class="cat-btn" onclick="filterCat('cold', this)">Cold & Flu</button>
    <button class="cat-btn" onclick="filterCat('heart', this)">Heart Health</button>
    <button class="cat-btn" onclick="filterCat('digestive', this)">Digestive</button>
  </div>
  <div class="medicine-grid" id="medicineGrid"></div>

  <div class="cart-bar" id="cartBar">
    <div class="cart-info"><span id="cartCount">0</span> items ¬∑ <span id="cartTotal">$0.00</span></div>
    <button class="checkout-btn" onclick="showPage('checkout')">Checkout ‚Üí</button>
  </div>
</div>

<!-- PAGE 3: CHECKOUT -->
<div class="page" id="page-checkout">
  <div class="page-header">
    <h2>Checkout</h2>
    <p>Complete your drone medicine delivery</p>
  </div>
  <div class="checkout-grid">
    <div class="checkout-left">
      <div class="checkout-card">
        <h3>üìç Delivery Address</h3>
        <div class="form-row">
          <input class="checkout-input" placeholder="First Name" value="Alex">
          <input class="checkout-input" placeholder="Last Name" value="Johnson">
        </div>
        <input class="checkout-input" style="width:100%" placeholder="Street Address" value="123 Health Street">
        <div class="form-row">
          <input class="checkout-input" placeholder="City" value="Vancouver">
          <input class="checkout-input" placeholder="Postal Code" value="V5K 1A1">
        </div>
        <input class="checkout-input" style="width:100%" placeholder="Delivery Instructions (optional)" value="Leave at front door">
      </div>

      <div class="checkout-card">
        <h3>üöÅ Delivery Method</h3>
        <div class="delivery-options">
          <div class="delivery-opt selected" onclick="selectDelivery(this, 'Express Drone', 4.99)">
            <div class="opt-icon">üöÅ</div>
            <div class="opt-name">Express Drone</div>
            <div class="opt-time">15‚Äì30 min</div>
            <div class="opt-price">$4.99</div>
          </div>
          <div class="delivery-opt" onclick="selectDelivery(this, 'Priority Drone', 9.99)">
            <div class="opt-icon">‚ö°</div>
            <div class="opt-name">Priority Drone</div>
            <div class="opt-time">Under 15 min</div>
            <div class="opt-price">$9.99</div>
          </div>
        </div>
      </div>

      <div class="checkout-card">
        <h3>üí≥ Payment</h3>
        <input class="checkout-input" style="width:100%" placeholder="Card Number" value="4242 4242 4242 4242">
        <div class="form-row">
          <input class="checkout-input" placeholder="Expiry MM/YY" value="12/28">
          <input class="checkout-input" placeholder="CVV" value="‚Ä¢‚Ä¢‚Ä¢">
        </div>
        <input class="checkout-input" style="width:100%" placeholder="Name on Card" value="Alex Johnson">
      </div>
    </div>

    <div class="order-summary">
      <div class="checkout-card">
        <h3>üßæ Order Summary</h3>
        <div class="order-items" id="orderItems">
          <div style="color: var(--muted); font-size: 0.9rem;">No items in cart.</div>
        </div>
        <div class="order-totals">
          <div class="total-row"><span>Subtotal</span><span id="subtotalVal">$0.00</span></div>
          <div class="total-row"><span>Drone Delivery</span><span id="deliveryVal">$4.99</span></div>
          <div class="total-row"><span>Tax (5%)</span><span id="taxVal">$0.00</span></div>
          <div class="total-row final"><span>Total</span><span id="grandTotal">$4.99</span></div>
        </div>
        <button class="place-order-btn" onclick="placeOrder()">üöÅ Launch Drone Order</button>
      </div>
    </div>
  </div>
</div>

<!-- PAGE 4: DRONE CAMERA -->
<div class="page" id="page-drone">
  <div class="drone-header">
    <h2>üöÅ Drone Live Camera</h2>
    <p><span class="drone-status-dot"></span>Drone #MD-47 ‚Äî Active & En Route</p>
  </div>
  <div class="drone-layout">
    <div>
      <div class="camera-feed" id="cameraFeed">
        <div class="camera-placeholder" id="cameraPlaceholder">
          <div class="drone-anim">üöÅ</div>
          <h3>Drone Camera Offline</h3>
          <p>Click "Connect Camera" to view the live drone feed from your device camera</p>
        </div>
        <video id="cameraVideo" autoplay playsinline muted></video>
        <div class="hud-overlay">
          <div class="hud-corner tl"></div>
          <div class="hud-corner tr"></div>
          <div class="hud-corner bl"></div>
          <div class="hud-corner br"></div>
          <div class="hud-center">
            <div class="crosshair-h"></div>
            <div class="crosshair-v"></div>
            <div class="crosshair-dot"></div>
          </div>
          <div class="hud-info">
            <span class="hud-stat" id="hudAlt">ALT: 42m</span>
            <span class="hud-stat" id="hudSpeed">SPD: 28km/h</span>
            <span class="hud-stat" id="hudBat">BAT: 78%</span>
            <span class="hud-stat" id="hudEta">ETA: 4min</span>
          </div>
        </div>
      </div>

      <div class="camera-controls">
        <button class="ctrl-btn primary" id="connectBtn" onclick="connectCamera()">üì∑ Connect Camera</button>
        <button class="ctrl-btn" id="snapBtn" onclick="takeSnapshot()" disabled>üì∏ Snapshot</button>
        <button class="ctrl-btn" id="stopBtn" onclick="stopCamera()" style="display:none">‚õî Disconnect</button>
        <button class="ctrl-btn" onclick="showPage('checkout')">‚Üê Back to Checkout</button>
      </div>
    </div>

    <div class="drone-stats">
      <div class="stat-card">
        <h4>Battery Level</h4>
        <div class="stat-value">78<span class="stat-unit">%</span></div>
        <div class="stat-bar"><div class="stat-fill" id="batBar" style="width:78%; background: linear-gradient(90deg,#34d399,#00C9A7)"></div></div>
      </div>
      <div class="stat-card">
        <h4>Altitude</h4>
        <div class="stat-value">42<span class="stat-unit"> m</span></div>
        <div class="stat-bar"><div class="stat-fill" id="altBar" style="width:42%"></div></div>
      </div>
      <div class="stat-card">
        <h4>Speed</h4>
        <div class="stat-value">28<span class="stat-unit"> km/h</span></div>
        <div class="stat-bar"><div class="stat-fill" id="spdBar" style="width:56%"></div></div>
      </div>
      <div class="stat-card">
        <h4>Distance to Drop</h4>
        <div class="stat-value">1.8<span class="stat-unit"> km</span></div>
        <div class="stat-bar"><div class="stat-fill" id="distBar" style="width:36%; background: linear-gradient(90deg, #38bdf8, #818cf8)"></div></div>
      </div>
      <div class="stat-card">
        <h4>Signal Strength</h4>
        <div class="stat-value">5<span class="stat-unit">/5 bars</span></div>
        <div class="stat-bar"><div class="stat-fill" style="width:100%"></div></div>
      </div>
      <div class="stat-card">
        <h4>Temperature</h4>
        <div class="stat-value">22<span class="stat-unit"> ¬∞C</span></div>
        <div class="stat-bar"><div class="stat-fill" style="width:44%; background: linear-gradient(90deg,#fb923c,#f87171)"></div></div>
      </div>
    </div>
  </div>
</div>

<!-- SUCCESS MODAL -->
<div class="modal-overlay" id="successModal">
  <div class="modal">
    <div class="success-icon">‚úÖ</div>
    <h2>Order Launched!</h2>
    <p>Your medicine is loaded and the drone is on its way. Track it live on our drone camera.</p>
    <div class="drone-track">üöÅ Drone #MD-47 dispatched ¬∑ ETA: 18 minutes</div>
    <button class="btn-primary" onclick="goToDrone()">Watch Drone Live ‚Üí</button>
  </div>
</div>

<script>
// ===== DATA =====
const medicines = [
  { id:1, name:'Ibuprofen 400mg', type:'pain', icon:'üíä', color:'#ff6b6b22', desc:'Fast-acting pain and fever relief for adults. 24 tablets per pack.', price:8.99 },
  { id:2, name:'Paracetamol 500mg', type:'pain', icon:'üî¥', color:'#ff4d4d22', desc:'Gentle pain relief and fever reducer. Suitable for all ages.', price:5.99 },
  { id:3, name:'Vitamin C 1000mg', type:'vitamin', icon:'üçä', color:'#ff980022', desc:'High-dose immune support. Effervescent tablets, 30 count.', price:12.49 },
  { id:4, name:'Vitamin D3 2000IU', type:'vitamin', icon:'‚òÄÔ∏è', color:'#ffd70022', desc:'Essential bone and immune health. Softgels, 60 count.', price:14.99 },
  { id:5, name:'DayQuil Cold & Flu', type:'cold', icon:'ü§ß', color:'#38bdf822', desc:'Non-drowsy multi-symptom cold relief. 24-hour formula.', price:11.99 },
  { id:6, name:'NyQuil Night Relief', type:'cold', icon:'üåô', color:'#6366f122', desc:'Nighttime cold & flu relief for restful sleep.', price:13.49 },
  { id:7, name:'Aspirin 81mg', type:'heart', icon:'‚ù§Ô∏è', color:'#ef444422', desc:'Daily low-dose aspirin for cardiovascular support.', price:7.49 },
  { id:8, name:'Omega-3 Fish Oil', type:'heart', icon:'üêü', color:'#0ea5e922', desc:'Premium omega-3 for heart and brain health. 90 softgels.', price:19.99 },
  { id:9, name:'Probiotics 10B CFU', type:'digestive', icon:'ü¶†', color:'#22c55e22', desc:'10 billion live cultures for gut health. Refrigerator-free.', price:24.99 },
  { id:10, name:'Antacid Tablets', type:'digestive', icon:'üü°', color:'#eab30822', desc:'Fast heartburn and indigestion relief. Berry flavor, 48 count.', price:6.99 },
  { id:11, name:'Zinc + Elderberry', type:'vitamin', icon:'ü´ê', color:'#a855f722', desc:'Immune boosting combo. Gummy format, 60 gummies.', price:16.99 },
  { id:12, name:'Melatonin 5mg', type:'cold', icon:'üò¥', color:'#8b5cf622', desc:'Natural sleep aid. Dissolving tablets for fast action.', price:9.49 },
];

let cart = {};
let selectedDelivery = { name: 'Express Drone', price: 4.99 };
let activeCategory = 'all';

// ===== NAV =====
function showPage(page) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b => { b.classList.remove('active'); b.classList.add('inactive'); });
  document.getElementById('page-' + page).classList.add('active');
  document.getElementById('nav-' + page).classList.remove('inactive');
  document.getElementById('nav-' + page).classList.add('active');
  if (page === 'checkout') updateCheckout();
  if (page === 'medicine') renderMeds();
  window.scrollTo(0,0);
}

// ===== SIGN IN =====
function doSignIn() {
  showPage('medicine');
  renderMeds();
}

// ===== MEDICINE =====
function renderMeds(list) {
  const grid = document.getElementById('medicineGrid');
  const data = list || medicines.filter(m => activeCategory === 'all' || m.type === activeCategory);
  grid.innerHTML = data.map(m => `
    <div class="med-card">
      <div class="med-icon" style="background:${m.color}">${m.icon}</div>
      <h3>${m.name}</h3>
      <div class="med-type">${m.type.toUpperCase()}</div>
      <div class="med-desc">${m.desc}</div>
      <div class="med-footer">
        <div class="med-price">$${m.price.toFixed(2)}</div>
        <button class="add-btn ${cart[m.id] ? 'added' : ''}" id="addbtn-${m.id}" onclick="addToCart(${m.id})">${cart[m.id] ? '‚úì Added' : '+ Add'}</button>
      </div>
    </div>
  `).join('');
}

function filterCat(cat, el) {
  activeCategory = cat;
  document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
  el.classList.add('active');
  renderMeds();
}

function filterMeds() {
  const q = document.getElementById('searchInput').value.toLowerCase();
  const filtered = medicines.filter(m => m.name.toLowerCase().includes(q) || m.type.includes(q));
  renderMeds(filtered);
}

function addToCart(id) {
  const med = medicines.find(m => m.id === id);
  cart[id] = (cart[id] || 0) + 1;
  updateCartBar();
  renderMeds();
}

function updateCartBar() {
  const count = Object.values(cart).reduce((a,b) => a+b, 0);
  const total = Object.entries(cart).reduce((sum,[id,qty]) => {
    return sum + medicines.find(m=>m.id==id).price * qty;
  }, 0);
  document.getElementById('cartCount').textContent = count;
  document.getElementById('cartTotal').textContent = '$' + total.toFixed(2);
  const bar = document.getElementById('cartBar');
  bar.classList.toggle('visible', count > 0);
}

// ===== CHECKOUT =====
function selectDelivery(el, name, price) {
  document.querySelectorAll('.delivery-opt').forEach(o => o.classList.remove('selected'));
  el.classList.add('selected');
  selectedDelivery = { name, price };
  updateCheckout();
}

function updateCheckout() {
  const items = Object.entries(cart);
  const orderDiv = document.getElementById('orderItems');
  if (!items.length) { orderDiv.innerHTML = '<div style="color:var(--muted);font-size:0.9rem">No items in cart. <a style="color:var(--teal);cursor:pointer" onclick="showPage(\'medicine\')">Browse medicines</a></div>'; }
  else {
    orderDiv.innerHTML = items.map(([id,qty]) => {
      const m = medicines.find(med=>med.id==id);
      return `<div class="order-item">
        <span class="order-item-name">${m.icon} ${m.name}</span>
        <span class="order-item-qty">√ó${qty}</span>
        <span class="order-item-price">$${(m.price*qty).toFixed(2)}</span>
      </div>`;
    }).join('');
  }
  const subtotal = items.reduce((s,[id,q])=>s+medicines.find(m=>m.id==id).price*q, 0);
  const tax = subtotal * 0.05;
  const grand = subtotal + tax + selectedDelivery.price;
  document.getElementById('subtotalVal').textContent = '$' + subtotal.toFixed(2);
  document.getElementById('deliveryVal').textContent = '$' + selectedDelivery.price.toFixed(2);
  document.getElementById('taxVal').textContent = '$' + tax.toFixed(2);
  document.getElementById('grandTotal').textContent = '$' + grand.toFixed(2);
}

function placeOrder() {
  document.getElementById('successModal').classList.add('show');
}

function goToDrone() {
  document.getElementById('successModal').classList.remove('show');
  showPage('drone');
}

// ===== DRONE CAMERA =====
let stream = null;

async function connectCamera() {
  try {
    stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' }, audio: false });
    const video = document.getElementById('cameraVideo');
    video.srcObject = stream;
    video.style.display = 'block';
    document.getElementById('cameraPlaceholder').style.display = 'none';
    document.getElementById('cameraFeed').classList.add('camera-active');
    document.getElementById('connectBtn').style.display = 'none';
    document.getElementById('stopBtn').style.display = 'inline-flex';
    document.getElementById('snapBtn').disabled = false;
    startDroneSimulation();
  } catch(e) {
    // fallback: show simulated feed
    document.getElementById('cameraPlaceholder').innerHTML = `
      <div style="width:100%;height:100%;background:linear-gradient(135deg,#0a0f1e,#0d2030,#0a1a20);display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative">
        <div style="font-size:5rem;animation:float 3s ease-in-out infinite">üèôÔ∏è</div>
        <div style="font-family:Syne,sans-serif;color:var(--teal);font-size:0.9rem;margin-top:12px">Simulated Drone View ‚Äî City Approach</div>
      </div>`;
    document.getElementById('cameraFeed').classList.add('camera-active');
    document.getElementById('connectBtn').style.display = 'none';
    document.getElementById('stopBtn').style.display = 'inline-flex';
    startDroneSimulation();
  }
}

function stopCamera() {
  if (stream) { stream.getTracks().forEach(t => t.stop()); stream = null; }
  const video = document.getElementById('cameraVideo');
  video.style.display = 'none'; video.srcObject = null;
  document.getElementById('cameraPlaceholder').style.display = 'flex';
  document.getElementById('cameraPlaceholder').innerHTML = `<div class="drone-anim">üöÅ</div><h3>Drone Camera Offline</h3><p>Click "Connect Camera" to view the live drone feed from your device camera</p>`;
  document.getElementById('cameraFeed').classList.remove('camera-active');
  document.getElementById('connectBtn').style.display = 'inline-flex';
  document.getElementById('stopBtn').style.display = 'none';
  document.getElementById('snapBtn').disabled = true;
}

function takeSnapshot() {
  const video = document.getElementById('cameraVideo');
  const canvas = document.createElement('canvas');
  canvas.width = video.videoWidth || 640; canvas.height = video.videoHeight || 480;
  canvas.getContext('2d').drawImage(video, 0, 0);
  const a = document.createElement('a');
  a.download = 'drone-snapshot.png';
  a.href = canvas.toDataURL('image/png');
  a.click();
}

function startDroneSimulation() {
  let bat = 78, alt = 42, spd = 28, dist = 1.8;
  setInterval(() => {
    bat = Math.max(0, bat - 0.05);
    alt += (Math.random() - 0.5) * 2;
    spd += (Math.random() - 0.5) * 3;
    dist = Math.max(0, dist - 0.005);
    spd = Math.max(0, Math.min(50, spd));
    alt = Math.max(10, Math.min(100, alt));
    document.getElementById('hudBat').textContent = 'BAT: ' + bat.toFixed(0) + '%';
    document.getElementById('hudAlt').textContent = 'ALT: ' + alt.toFixed(0) + 'm';
    document.getElementById('hudSpeed').textContent = 'SPD: ' + spd.toFixed(0) + 'km/h';
    const eta = Math.max(0, (dist / (spd / 3600 * 1000)) / 60);
    document.getElementById('hudEta').textContent = 'ETA: ' + eta.toFixed(0) + 'min';
    document.getElementById('batBar').style.width = bat + '%';
    document.getElementById('altBar').style.width = (alt) + '%';
    document.getElementById('spdBar').style.width = (spd / 50 * 100) + '%';
    document.getElementById('distBar').style.width = (dist / 3 * 100) + '%';
  }, 800);
}
</script>
</body>
</html>